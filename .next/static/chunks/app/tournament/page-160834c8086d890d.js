(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{7877:function(e,s,t){Promise.resolve().then(t.bind(t,7239))},7239:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return T}});var i,a,n,l,o=t(7437),r=t(2167),d=t(5251),c=t(6691),m=t.n(c),h=t(7042),u=t(4769);function x(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,u.m6)((0,h.W)(s))}let p=e=>{let{team:s,score:t,wins:i=0,losses:a=0,isWinner:n,isEliminated:l,bracket:r="winners",logo:d,selectedLeague:c}=e;return(0,o.jsxs)("div",{className:x("p-3 rounded-lg border flex items-center gap-3 transition-colors",(()=>{switch(r){case"winners":return"bg-blue-50 border-blue-200";case"losers":return"bg-red-50 border-red-200";case"championship":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-100"}})(),l&&"opacity-75"),children:[(0,o.jsx)("div",{className:"w-10 h-10 flex-shrink-0 relative",children:d?(0,o.jsx)(m(),{src:d,alt:s.name,fill:!0,className:"object-contain",priority:!0}):(0,o.jsx)("span",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-400",children:"?"})}),(0,o.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("p",{className:"font-medium truncate text-gray-900",children:[s.city," ",s.name]}),n&&(0,o.jsx)("span",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Wins: ",i," | Losses: ",a]}),t>0&&(0,o.jsxs)("p",{className:"text-sm font-medium text-black",children:[t," pts"]})]})]})]})};var g=t(2265);let b=[{id:"nyy",name:"Yankees",city:"New York",losses:0},{id:"bos",name:"Red Sox",city:"Boston",losses:0},{id:"tor",name:"Blue Jays",city:"Toronto",losses:0},{id:"tb",name:"Rays",city:"Tampa Bay",losses:0},{id:"bal",name:"Orioles",city:"Baltimore",losses:0},{id:"cws",name:"White Sox",city:"Chicago",losses:0},{id:"cle",name:"Guardians",city:"Cleveland",losses:0},{id:"det",name:"Tigers",city:"Detroit",losses:0},{id:"kc",name:"Royals",city:"Kansas City",losses:0},{id:"min",name:"Twins",city:"Minnesota",losses:0},{id:"hou",name:"Astros",city:"Houston",losses:0},{id:"ana",name:"Angels",city:"Los Angeles",losses:0},{id:"oak",name:"Athletics",city:"Oakland",losses:0},{id:"sea",name:"Mariners",city:"Seattle",losses:0},{id:"tex",name:"Rangers",city:"Texas",losses:0},{id:"atl",name:"Braves",city:"Atlanta",losses:0},{id:"mia",name:"Marlins",city:"Miami",losses:0},{id:"nym",name:"Mets",city:"New York",losses:0},{id:"phi",name:"Phillies",city:"Philadelphia",losses:0},{id:"wsh",name:"Nationals",city:"Washington",losses:0},{id:"chc",name:"Cubs",city:"Chicago",losses:0},{id:"cin",name:"Reds",city:"Cincinnati",losses:0},{id:"mil",name:"Brewers",city:"Milwaukee",losses:0},{id:"pit",name:"Pirates",city:"Pittsburgh",losses:0},{id:"stl",name:"Cardinals",city:"St. Louis",losses:0},{id:"ari",name:"Diamondbacks",city:"Arizona",losses:0},{id:"col",name:"Rockies",city:"Colorado",losses:0},{id:"lad",name:"Dodgers",city:"Los Angeles",losses:0},{id:"sd",name:"Padres",city:"San Diego",losses:0},{id:"sf",name:"Giants",city:"San Francisco",losses:0},{id:"dom",name:"Dominican",city:"RD",losses:0},{id:"pr",name:"Boricua",city:"Puerto Rico",losses:0}],f=[{id:"ne",name:"Patriots",city:"New England",losses:0},{id:"kc",name:"Chiefs",city:"Kansas City",losses:0},{id:"dal",name:"Cowboys",city:"Dallas",losses:0},{id:"sf",name:"49ers",city:"San Francisco",losses:0},{id:"gb",name:"Packers",city:"Green Bay",losses:0},{id:"buf",name:"Bills",city:"Buffalo",losses:0},{id:"pit",name:"Steelers",city:"Pittsburgh",losses:0},{id:"bal",name:"Ravens",city:"Baltimore",losses:0},{id:"cin",name:"Bengals",city:"Cincinnati",losses:0},{id:"cle",name:"Browns",city:"Cleveland",losses:0},{id:"ten",name:"Titans",city:"Tennessee",losses:0},{id:"ind",name:"Colts",city:"Indianapolis",losses:0},{id:"hou",name:"Texans",city:"Houston",losses:0},{id:"jax",name:"Jaguars",city:"Jacksonville",losses:0},{id:"lv",name:"Raiders",city:"Las Vegas",losses:0},{id:"lac",name:"Chargers",city:"Los Angeles",losses:0},{id:"den",name:"Broncos",city:"Denver",losses:0},{id:"nyj",name:"Jets",city:"New York",losses:0},{id:"mia",name:"Dolphins",city:"Miami",losses:0},{id:"phi",name:"Eagles",city:"Philadelphia",losses:0},{id:"nyg",name:"Giants",city:"New York",losses:0},{id:"wsh",name:"Commanders",city:"Washington",losses:0},{id:"det",name:"Lions",city:"Detroit",losses:0},{id:"chi",name:"Bears",city:"Chicago",losses:0},{id:"min",name:"Vikings",city:"Minnesota",losses:0},{id:"no",name:"Saints",city:"New Orleans",losses:0},{id:"tb",name:"Buccaneers",city:"Tampa Bay",losses:0},{id:"car",name:"Panthers",city:"Carolina",losses:0},{id:"atl",name:"Falcons",city:"Atlanta",losses:0},{id:"ari",name:"Cardinals",city:"Arizona",losses:0},{id:"lar",name:"Rams",city:"Los Angeles",losses:0},{id:"sea",name:"Seahawks",city:"Seattle",losses:0}],y=[{id:"bos",name:"Celtics",city:"Boston",losses:0},{id:"bkn",name:"Nets",city:"Brooklyn",losses:0},{id:"ny",name:"Knicks",city:"New York",losses:0},{id:"phi",name:"76ers",city:"Philadelphia",losses:0},{id:"tor",name:"Raptors",city:"Toronto",losses:0},{id:"chi",name:"Bulls",city:"Chicago",losses:0},{id:"cle",name:"Cavaliers",city:"Cleveland",losses:0},{id:"det",name:"Pistons",city:"Detroit",losses:0},{id:"ind",name:"Pacers",city:"Indiana",losses:0},{id:"mil",name:"Bucks",city:"Milwaukee",losses:0},{id:"atl",name:"Hawks",city:"Atlanta",losses:0},{id:"cha",name:"Hornets",city:"Charlotte",losses:0},{id:"mia",name:"Heat",city:"Miami",losses:0},{id:"orl",name:"Magic",city:"Orlando",losses:0},{id:"wsh",name:"Wizards",city:"Washington",losses:0},{id:"den",name:"Nuggets",city:"Denver",losses:0},{id:"min",name:"Timberwolves",city:"Minnesota",losses:0},{id:"okc",name:"Thunder",city:"Oklahoma City",losses:0},{id:"por",name:"Trail Blazers",city:"Portland",losses:0},{id:"utah",name:"Jazz",city:"Utah",losses:0},{id:"gs",name:"Warriors",city:"Golden State",losses:0},{id:"lac",name:"Clippers",city:"Los Angeles",losses:0},{id:"lal",name:"Lakers",city:"Los Angeles",losses:0},{id:"phx",name:"Suns",city:"Phoenix",losses:0},{id:"sac",name:"Kings",city:"Sacramento",losses:0},{id:"dal",name:"Mavericks",city:"Dallas",losses:0},{id:"hou",name:"Rockets",city:"Houston",losses:0},{id:"mem",name:"Grizzlies",city:"Memphis",losses:0},{id:"no",name:"Pelicans",city:"New Orleans",losses:0},{id:"sa",name:"Spurs",city:"San Antonio",losses:0},{id:"vb",name:"Bears",city:"Vancouver",losses:0},{id:"sea",name:"SuperSonics",city:"Seattle",losses:0}];(i=n||(n={})).MLB="MLB",i.NFL="NFL",i.NBA="NBA",(a=l||(l={})).NOT_STARTED="NOT_STARTED",a.IN_PROGRESS="IN_PROGRESS",a.COMPLETED="COMPLETED";let w={MLB:{bg:"bg-[#092668]",border:"border-[#092668]",winner:"bg-[#092668] text-white",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-[#f0f0f0] text-black",buttonHover:"hover:bg-[#9e9e9e]",input:"border-[#092668] focus:ring-[#092668]"},NFL:{bg:"bg-[#ffffff]",border:"border-[#E0E0E0]",winner:"bg-[#ffffff] text-white",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-[#092668] text-white",buttonHover:"hover:bg-[#020105] text-white",input:"border-[#092668] focus:ring-[#092668]"},NBA:{bg:"bg-[#1d428a]",border:"border-[#c8102e]",winner:"bg-[#ffffff] text-[#1d428a] font-size-2xl  font-bold",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-white text-[#1d428a]",buttonHover:"hover:bg-[#c8102e]",input:"border-[#092668] focus:ring-[#092668]"},default:{bg:"bg-gray-400",border:"border-gray-500",winner:"bg-gray-50 text-gray-700",loser:"bg-gray-100 text-gray-500",championship:"bg-gray-200 text-gray-800",button:"bg-[#092668] text-white",buttonHover:"hover:bg-[#020105]",input:"border-[#092668] focus:ring-[#092668]"}},v=e=>{var s,t,i,a,l,r,c,m,h,u;let{match:x,tournament:b,onScoreUpdate:f,isEditable:y=!0,selectedLeague:v}=e,N=e=>{let s=e.replace(/ /g,"-").toLowerCase()+".png",t="/mlb-teams/";return(v===n.NFL?t="/nfl-teams/":v===n.NBA&&(t="/nba-teams/"),v===n.NBA&&"nba"===e.toLowerCase())?"/nba_logo.png":"".concat(t).concat(s)},j=x.team1?N(x.team1.name):"",k=x.team2?N(x.team2.name):"";x.team1&&x.team1.name,x.team2&&x.team2.name;let C=x.team1&&b.eliminatedTeams.includes(x.team1),S=x.team2&&b.eliminatedTeams.includes(x.team2),[L,B]=(0,g.useState)({team1Score:x.score.team1Score,team2Score:x.score.team2Score});(0,g.useEffect)(()=>{B(x.score)},[x.score]);let T=(e,s)=>{let t=Math.max(0,Math.min(200,parseInt(s)||0));B(1===e?{team1Score:t,team2Score:L.team2Score}:{team1Score:L.team1Score,team2Score:t})},M=!x.isCompleted&&y,R=w[v]||w.default;return(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:M?1.02:1},className:"w-full max-w-full rounded-2xl shadow-xl border-2 px-3 py-4 sm:px-6 sm:py-5 mb-4 font-poppins bg-gradient-to-br ".concat(R.bg," ").concat(R.border),children:[(0,o.jsx)("div",{className:"mb-2 flex justify-between items-center",children:(0,o.jsxs)("span",{className:"text-xs font-bold text-white tracking-wide uppercase",children:["Match ",x.id]})}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(p,{team:null!==(l=x.team1)&&void 0!==l?l:{id:"tbd1",name:"TBD",city:"",losses:0},score:L.team1Score,wins:null!==(r=null===(s=x.team1)||void 0===s?void 0:s.wins)&&void 0!==r?r:0,losses:null!==(c=null===(t=x.team1)||void 0===t?void 0:t.losses)&&void 0!==c?c:0,isWinner:x.winner===x.team1,isEliminated:!!C,bracket:x.bracket,logo:j,selectedLeague:v}),M&&(0,o.jsx)("input",{type:"number",min:"0",max:200,value:L.team1Score,onChange:e=>T(1,e.target.value),className:"absolute right-2 top-2 w-16 text-right border-2 border-[#a259f7] bg-black/10 text-black font-bold rounded-lg px-2 py-1 focus:ring-2 focus:ring-[#a259f7]",placeholder:"0"})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(p,{team:null!==(m=x.team2)&&void 0!==m?m:{id:"tbd2",name:"TBD",city:"",losses:0},score:L.team2Score,wins:null!==(h=null===(i=x.team2)||void 0===i?void 0:i.wins)&&void 0!==h?h:0,losses:null!==(u=null===(a=x.team2)||void 0===a?void 0:a.losses)&&void 0!==u?u:0,isWinner:x.winner===x.team2,isEliminated:!!S,bracket:x.bracket,logo:k,selectedLeague:v}),M&&(0,o.jsx)("input",{type:"number",min:"0",max:200,value:L.team2Score,onChange:e=>T(2,e.target.value),className:"absolute right-2 top-2 w-16 text-right border-2 border-[#a259f7] bg-black/10 text-black font-bold rounded-lg px-2 py-1 focus:ring-2 focus:ring-[#a259f7]",placeholder:"0"})]}),M&&(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 w-full",children:[(0,o.jsx)("button",{onClick:()=>{null==f||f(x.id,L.team1Score,L.team2Score)},className:"w-full sm:w-1/2 py-2 rounded-lg shadow transition ".concat(w[v].button," ").concat(w[v].buttonHover),children:"Submit"}),(0,o.jsx)("button",{onClick:()=>{null==f||f(x.id,0,0)},className:"w-full sm:w-1/2 py-2 rounded-lg shadow transition ".concat(w[v].button," ").concat(w[v].buttonHover),children:"Reset"})]}),x.isCompleted&&x.winner&&(0,o.jsx)(o.Fragment,{children:"championship"===x.bracket?x.requiresRematch?(0,o.jsx)("div",{className:"font-bold text-lg text-white mt-3 text-center py-2 rounded-lg bg-yellow-100 text-yellow-800 font-semibold text-sm",children:"Championship rematch required!"}):(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},className:"font-bold text-lg text-white mt-3 text-center py-3 rounded-lg font-semibold text-lg ".concat(R.championship),children:[(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,o.jsx)("span",{children:"\uD83C\uDFC6"}),(0,o.jsxs)("span",{className:"text-purple-700",children:[x.winner.name," Wins the Championship!"]})]}),x.loser&&b.eliminatedTeams.includes(x.loser)&&(0,o.jsxs)("div",{className:"font-bold text-lg text-white mt-1 font-semibold",children:[x.loser.name," Eliminated"]})]}):(0,o.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1},className:"font-bold text-lg mt-3 text-center py-2 rounded-lg text-sm font-medium ".concat("winners"===x.bracket?R.winner:"losers"===x.bracket?R.loser:R.championship),children:[x.winner.name," Wins!",x.loser&&b.eliminatedTeams.includes(x.loser)&&(0,o.jsxs)("div",{className:"font-bold text-lg text-red-600 mt-1 font-semibold",children:[x.loser.name," Eliminated"]})]})})]})]})},N=e=>{let{tournament:s,onMatchUpdate:t,selectedLeague:i}=e,[a,n]=(0,g.useState)(s.currentRound),[l,c]=(0,g.useState)(!0);(0,g.useEffect)(()=>{if(!l)return;let e=s.rounds.find(e=>e.roundNumber===a);if(e&&e.matches.every(e=>e.isCompleted)){let e=a+1;s.rounds.some(s=>s.roundNumber===e)&&n(e)}},[a,s.rounds,l]);let h=(0,g.useCallback)((e,i,a)=>{let n=s.rounds.find(s=>s.matches.some(s=>s.id===e));if(!n)return;let l=n.matches.find(s=>s.id===e);l&&(null==t||t({...l,score:{team1Score:i,team2Score:a}}))},[s,t]),u=(0,g.useMemo)(()=>s.rounds.map(e=>{let s=e.matches.filter(e=>"winners"===e.bracket),t=e.matches.filter(e=>"losers"===e.bracket),i=e.matches.filter(e=>"championship"===e.bracket);return{roundNumber:e.roundNumber,winners:s,losers:t,championship:i,isDoubleElimination:e.isDoubleElimination,isChampionshipRound:e.isChampionshipRound}}),[s.rounds]),p=e=>{n(e),c(e===s.currentRound)};return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("div",{className:"mb-8 border-b",children:(0,o.jsx)("div",{className:"flex overflow-x-auto",children:u.map(e=>(0,o.jsx)("button",{onClick:()=>p(e.roundNumber),className:x("px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",a===e.roundNumber?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.isChampionshipRound?"Championship":"Round ".concat(e.roundNumber)},e.roundNumber))})}),(0,o.jsx)(r.M,{mode:"wait",children:u.map(e=>e.roundNumber===a&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[e.championship.length>0&&(0,o.jsxs)("div",{className:"mb-12",children:[(0,o.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:["Championship Match",e.championship[0].requiresRematch&&(0,o.jsx)("span",{className:"ml-3 text-sm bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full",children:"Rematch Required"})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("div",{className:"w-[400px]",children:(0,o.jsx)(v,{match:e.championship[0],tournament:s,onScoreUpdate:h,isEditable:!e.championship[0].isCompleted,selectedLeague:i},e.championship[0].id)})})]}),e.winners.length>0&&(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-blue-700 mb-4 flex items-center",children:["Winners Bracket",(0,o.jsxs)("span",{className:"ml-3 text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[e.winners.length," Matches"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.winners.map(e=>(0,o.jsx)(v,{match:e,tournament:s,onScoreUpdate:h,isEditable:!e.isCompleted,selectedLeague:i},e.id))})]}),e.losers.length>0&&(0,o.jsxs)("div",{className:"pt-8 border-t",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-red-700 mb-4 flex items-center",children:["Losers Bracket",(0,o.jsxs)("span",{className:"ml-3 text-sm bg-red-100 text-red-700 px-3 py-1 rounded-full",children:[e.losers.length," Matches"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.losers.map(e=>(0,o.jsx)(v,{match:e,tournament:s,onScoreUpdate:h,isEditable:!e.isCompleted,selectedLeague:i},e.id))})]}),s.eliminatedTeams.length>0&&(0,o.jsxs)("div",{className:"mt-8 pt-8 border-t",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-red-700 mb-4 flex items-center",children:[(0,o.jsx)("span",{children:"Eliminated Teams"}),(0,o.jsxs)("span",{className:"ml-3 text-sm bg-red-100 text-red-700 px-3 py-1 rounded-full",children:[s.eliminatedTeams.length," Teams"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.eliminatedTeams.map(e=>(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[e.logo&&(0,o.jsx)("div",{className:"w-8 h-8 relative",children:(0,o.jsx)(m(),{src:e.logo,alt:e.name,fill:!0,className:"object-contain"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-red-700",children:e.name}),(0,o.jsxs)("div",{className:"text-xs text-red-600",children:[e.losses," Losses"]})]})]})},e.id))})]}),(0,o.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:[e.isChampionshipRound?"Championship":"Round ".concat(e.roundNumber)," ","Summary"]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Winners Bracket:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.winners.length," matches"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Losers Bracket:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.losers.length," matches"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Championship:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.championship.length," matches"]})]})]})]})]},e.roundNumber))}),s.winner&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-8 p-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl text-center text-white",children:[(0,o.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Tournament Champion"}),(0,o.jsxs)("p",{className:"text-xl",children:[s.winner.city," ",s.winner.name]})]})]})},j=function(e,s,t,i){var a;let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"winners",o=arguments.length>6?arguments[6]:void 0,r=arguments.length>7?arguments[7]:void 0;return{id:e,roundNumber:s,team1:t,team2:i,isCompleted:n,isBye:n,bracket:l,winner:n&&null!==(a=null!=t?t:i)&&void 0!==a?a:void 0,loser:void 0,score:{team1Score:0,team2Score:0},nextMatchId:o,nextLoserMatchId:r,eliminatedLabel:void 0}},k=e=>{let s=e.length,t=[],i=Math.pow(2,Math.ceil(Math.log2(s))-1),a=1;for(let s=0;s<i;s++){let i=e[2*s]||null,n=e[2*s+1]||null,l=!i||!n,o="W1-".concat(a),r="W2-".concat(Math.ceil(a/2)),d="L1-".concat(Math.ceil(a/2));t.push(j(o,1,i,n,l,"winners",r,d)),a++}return{rounds:[{roundNumber:1,matches:t,isDoubleElimination:!0,isChampionshipRound:!1}],currentRound:1,eliminatedTeams:[],championshipMatchesPlayed:0}},C=(e,s)=>{let t,i;let a=s.team1Score!==s.team2Score;if(a){var n,l,o,r,d,c,m,h;s.team1Score>s.team2Score?(t=e.team1?{...e.team1,wins:(null!==(n=e.team1.wins)&&void 0!==n?n:0)+1,losses:null!==(l=e.team1.losses)&&void 0!==l?l:0}:void 0,i=e.team2?{...e.team2,wins:null!==(o=e.team2.wins)&&void 0!==o?o:0,losses:(null!==(r=e.team2.losses)&&void 0!==r?r:0)+1}:void 0):(t=e.team2?{...e.team2,wins:(null!==(d=e.team2.wins)&&void 0!==d?d:0)+1,losses:null!==(c=e.team2.losses)&&void 0!==c?c:0}:void 0,i=e.team1?{...e.team1,wins:null!==(m=e.team1.wins)&&void 0!==m?m:0,losses:(null!==(h=e.team1.losses)&&void 0!==h?h:0)+1}:void 0)}return{...e,score:s,isCompleted:a,winner:t,loser:i}},S=e=>{let s=e.rounds[e.rounds.length-1],t=e.currentRound+1,i={},a={};e.rounds.forEach(e=>{e.matches.forEach(e=>{e.isCompleted&&e.loser&&(i[e.loser.id]=(i[e.loser.id]||0)+1),e.isCompleted&&e.winner&&(a[e.winner.id]=(a[e.winner.id]||0)+1)})});let n=[],l=new Set;for(let s of e.rounds)for(let e of s.matches)e.team1&&!l.has(e.team1.id)&&(n.push({...e.team1,wins:a[e.team1.id]||0,losses:i[e.team1.id]||0}),l.add(e.team1.id)),e.team2&&!l.has(e.team2.id)&&(n.push({...e.team2,wins:a[e.team2.id]||0,losses:i[e.team2.id]||0}),l.add(e.team2.id));let o=[];for(let s of n)(i[s.id]||0)>=2&&!e.eliminatedTeams.some(e=>e.id===s.id)&&o.push(s);let r=n.filter(s=>0===(i[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)).map(e=>({...e,losses:i[e.id]||0,wins:a[e.id]||0})),d=n.filter(s=>1===(i[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)).map(e=>({...e,losses:i[e.id]||0,wins:a[e.id]||0})),c=!1,m=[],h=[],u=e.rounds.filter(e=>e.isChampionshipRound).flatMap(e=>e.matches).filter(e=>"championship"===e.bracket);if(u.length>=1&&u[u.length-1].isCompleted){var x;let s=u[u.length-1],i=s.team1,a=s.team2;(null===(x=s.winner)||void 0===x?void 0:x.id)===(null==a?void 0:a.id)&&1===e.championshipMatchesPlayed?(c=!0,m.push(j("C".concat(t,"-1"),t,i,a,!1,"championship"))):c=!0}else if(1===r.length&&1===d.length&&s.matches.some(e=>("losers"===e.bracket||e.id.includes("LosersLast"))&&e.isCompleted&&e.winner&&d.some(s=>s.id===e.winner.id)))c=!0,m.push(j("C".concat(t,"-1"),t,r[0],d[0],!1,"championship"));else if(1===r.length&&d.length>=1&&e.winnersBracketFinalLoser){let i=s.matches.filter(e=>"losers"===e.bracket&&e.isCompleted&&e.winner).map(e=>e.winner).find(e=>d.some(s=>s.id===e.id));i&&i.id!==e.winnersBracketFinalLoser.id?h.push(j("LosersLast-".concat(t),t,e.winnersBracketFinalLoser,i,!1,"losers")):p()}else 2===r.length&&d.length>=1?(h.push(j("W".concat(t,"-1"),t,r[0],r[1],!1,"winners")),g()):p();function p(){let e=1;for(let i=0;i<r.length;i+=2){var s;let a=r[i],n=null!==(s=r[i+1])&&void 0!==s?s:null,l=!n;h.push(j("W".concat(t,"-").concat(e),t,a,n,l,"winners")),e++}g()}function g(){let a=n.filter(s=>1===(i[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)&&!(e.winnersBracketFinalLoser&&e.winnersBracketFinalLoser.id===s.id)),l=s.matches.filter(e=>"winners"===e.bracket&&e.loser&&e.isCompleted).map(e=>e.loser).filter(e=>a.some(s=>s.id===e.id));if(s.matches.some(e=>"winners"===e.bracket&&1===r.length&&e.loser&&e.isCompleted)){let t=s.matches.filter(e=>"winners"===e.bracket&&e.isCompleted&&e.loser).map(e=>e.loser).pop();t&&(e.winnersBracketFinalLoser=t)}let d=a.filter(e=>!l.some(s=>s.id===e.id)),c=[...l,...d];if(c.length>0){var m,u;if(c.length%2==1){let e=null;if(l.length>0){e=l[l.length-1];let s=c.findIndex(s=>s.id===e.id);-1!==s&&c.splice(s,1)}else e=c.shift();h.push(j("L".concat(t,"-1"),t,e,null,!0,"losers"));for(let e=0;e<c.length;e+=2){let s=c[e],i=null!==(m=c[e+1])&&void 0!==m?m:null;h.push(j("L".concat(t,"-").concat(Math.floor(e/2)+2),t,s,i,!i,"losers"))}}else for(let e=0;e<c.length;e+=2){let s=c[e],i=null!==(u=c[e+1])&&void 0!==u?u:null;h.push(j("L".concat(t,"-").concat(Math.floor(e/2)+1),t,s,i,!i,"losers"))}}}let b=e.winner;if(c){let s=m[0]||u[u.length-1];if(s&&s.isCompleted&&s.winner&&s.loser){s.team1;let t=s.team2;b=t&&s.winner.id===t.id&&1===e.championshipMatchesPlayed?void 0:s.winner}}return c&&0===m.length||!c&&0===h.length?{...e,winner:b,currentRound:e.currentRound}:{...e,rounds:[...e.rounds,{roundNumber:t,matches:c?m:h,isDoubleElimination:!0,isChampionshipRound:c}],currentRound:t,eliminatedTeams:[...e.eliminatedTeams,...o.filter(s=>!e.eliminatedTeams.some(e=>e.id===s.id))],championshipMatchesPlayed:c?e.championshipMatchesPlayed+1:e.championshipMatchesPlayed,winnersBracketFinalLoser:e.winnersBracketFinalLoser,winner:b}};var L=t(5461);function B(){let[e,s]=(0,g.useState)(n.MLB),[t,i]=(0,g.useState)(()=>(localStorage.removeItem("tournamentState"),k(b))),a=(0,g.useCallback)(e=>{i(s=>{let t=C(e,e.score),i={...s,rounds:s.rounds.map(e=>({...e,matches:e.matches.map(e=>e.id===t.id?t:e)}))};return i.rounds[i.currentRound-1].matches.every(e=>e.isCompleted)?S(i):i})},[]),l=(0,g.useCallback)(()=>{let s;(s=e===n.MLB?b:e===n.NFL?f:y).forEach(e=>e.losses=0),i(k(s))},[e]);return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,o.jsxs)("div",{className:"container mx-auto px-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tournament Bracket"}),(0,o.jsx)("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reset Tournament"})]}),(0,o.jsxs)("div",{className:"flex justify-center mb-6 gap-4",children:[(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(e===n.MLB?"bg-[#092668] border-[#092668] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{s(n.MLB),i(k(b))},"aria-label":"Select MLB",type:"button",children:[(0,o.jsx)("div",{className:"w-10 h-10 mb-1 flex items-center justify-center bg-transparent rounded",children:(0,o.jsx)("img",{src:"/mlb-teams/mlb_logo.png",alt:"MLB Logo",className:"w-full h-full object-contain"})}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"MLB"})]}),(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(e===n.NFL?"bg-[#002244] border-[#002244] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{s(n.NFL),i(k(f))},"aria-label":"Select NFL",type:"button",children:[(0,o.jsx)("img",{src:"/nfl-teams/nfl_logo.png",alt:"NFL Logo",className:"w-10 h-10 mb-1"}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"NFL"})]}),(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(e===n.NBA?"bg-[#1D428A] border-[#1D428A] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{s(n.NBA),i(k(y))},"aria-label":"Select NBA",type:"button",children:[(0,o.jsx)("div",{className:"w-10 h-10 mb-1 flex items-center justify-center bg-white rounded",children:(0,o.jsx)("img",{src:"/nba-teams/nba_logo.png",alt:"NBA Logo",className:"w-full h-full object-contain"})}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"NBA"})]})]}),(0,o.jsx)(N,{tournament:t,onMatchUpdate:a,selectedLeague:e}),(0,o.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-blue-900",children:"Active Teams"}),(0,o.jsx)("p",{className:"text-2xl text-blue-600",children:(e===n.MLB?b.length:e===n.NFL?f.length:y.length)-t.eliminatedTeams.length})]}),(0,o.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg overflow-auto max-h-40",children:[(0,o.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"Eliminated Teams"}),0===t.eliminatedTeams.length?(0,o.jsx)("p",{className:"text-red-600",children:"No teams eliminated yet."}):(0,o.jsx)("ul",{className:"list-disc list-inside text-red-600",children:t.eliminatedTeams.map(e=>(0,o.jsx)("li",{children:e.name},e.id))})]}),(0,o.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-green-900",children:"Current Round"}),(0,o.jsx)("p",{className:"text-2xl text-green-600",children:t.currentRound})]})]})]})})}function T(){return(0,o.jsx)(L.Z,{children:(0,o.jsx)(B,{})})}},5461:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var i=t(7437),a=t(2265),n=t(6691),l=t.n(n);function o(e){let{onAuthSuccess:s}=e,[t,n]=(0,a.useState)(""),[o,r]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1);return(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-[#a259f7] via-black to-[#a259f7] animate-fade-in",children:(0,i.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 min-w-[320px] max-w-xs",children:[(0,i.jsx)(l(),{src:"/BDC_logo.svg",alt:"App Logo",width:120,height:120,className:"rounded-2xl animate-bounce bg-transparent"}),(0,i.jsx)("h1",{className:"text-3xl font-extrabold text-purple-800 tracking-tight drop-shadow mb-2 text-center",children:"Welcome to BDC-Tourney"}),(0,i.jsxs)("form",{className:"w-full flex flex-col gap-4",onSubmit:e=>{e.preventDefault(),h(!0),setTimeout(()=>{"BDC"===t&&"Godfirst"===o?(localStorage.setItem("tourneyV5_auth","authenticated"),c(""),s()):c("Invalid username or password. Try again!"),h(!1)},800)},children:[(0,i.jsx)("input",{type:"text",placeholder:"Username",autoFocus:!0,className:"px-4 py-2 rounded-xl border-2 border-[#1d428a] focus:ring-2 focus:ring-[#c8102e] text-lg outline-none transition",value:t,onChange:e=>n(e.target.value),disabled:m}),(0,i.jsx)("input",{type:"password",placeholder:"Password",className:"px-4 py-2 rounded-xl border-2 border-[#1d428a] focus:ring-2 focus:ring-[#c8102e] text-lg outline-none transition",value:o,onChange:e=>r(e.target.value),disabled:m}),(0,i.jsx)("button",{type:"submit",className:"w-full py-2 rounded-xl font-bold text-lg bg-purple-800 text-white shadow hover:bg-[#c8102e] transition",disabled:m,children:m?"Checking...":"Enter Tournament"})]}),d&&(0,i.jsx)("div",{className:"text-red-600 font-semibold text-center animate-shake",children:d}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Private access only. Please contact the administrator if you need credentials."})]})})}function r(e){let{children:s}=e,[t,n]=(0,a.useState)(!1),[l,r]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{n("authenticated"===localStorage.getItem("tourneyV5_auth")),r(!0)},[]),l)?t?(0,i.jsx)(i.Fragment,{children:s}):(0,i.jsx)(o,{onAuthSuccess:()=>n(!0)}):null}}},function(e){e.O(0,[986,945,971,938,744],function(){return e(e.s=7877)}),_N_E=e.O()}]);