(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{7877:function(e,s,t){Promise.resolve().then(t.bind(t,7239))},7239:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return T}});var a,n,i,l,o=t(7437),r=t(2167),d=t(5251),c=t(6691),m=t.n(c),u=t(7042),h=t(4769);function x(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,h.m6)((0,u.W)(s))}let b=e=>{let{team:s,score:t,wins:a=0,losses:n=0,isWinner:i,isEliminated:l,bracket:r="winners",logo:d,selectedLeague:c}=e;return(0,o.jsxs)("div",{className:x("p-3 rounded-lg border flex items-center gap-3 transition-colors",(()=>{switch(r){case"winners":return"bg-blue-50 border-blue-200";case"losers":return"bg-red-50 border-red-200";case"championship":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-100"}})(),l&&"opacity-75"),children:[(0,o.jsx)("div",{className:"w-10 h-10 flex-shrink-0 relative",children:d?(0,o.jsx)(m(),{src:d,alt:s.name,fill:!0,className:"object-contain",priority:!0}):(0,o.jsx)("span",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-400",children:"?"})}),(0,o.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("p",{className:"font-medium truncate text-gray-900",children:[s.city," ",s.name]}),i&&(0,o.jsx)("span",{className:"flex-shrink-0",children:(0,o.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Wins: ",a," | Losses: ",n]}),t>0&&(0,o.jsxs)("p",{className:"text-sm font-medium text-black",children:[t," pts"]})]})]})]})};var p=t(2265);let g=[{id:"nyy",name:"Yankees",city:"New York",losses:0},{id:"bos",name:"Red Sox",city:"Boston",losses:0},{id:"tor",name:"Blue Jays",city:"Toronto",losses:0},{id:"tb",name:"Rays",city:"Tampa Bay",losses:0},{id:"bal",name:"Orioles",city:"Baltimore",losses:0},{id:"cws",name:"White Sox",city:"Chicago",losses:0},{id:"cle",name:"Guardians",city:"Cleveland",losses:0},{id:"det",name:"Tigers",city:"Detroit",losses:0},{id:"kc",name:"Royals",city:"Kansas City",losses:0},{id:"min",name:"Twins",city:"Minnesota",losses:0},{id:"hou",name:"Astros",city:"Houston",losses:0},{id:"ana",name:"Angels",city:"Los Angeles",losses:0},{id:"oak",name:"Athletics",city:"Oakland",losses:0},{id:"sea",name:"Mariners",city:"Seattle",losses:0},{id:"tex",name:"Rangers",city:"Texas",losses:0},{id:"atl",name:"Braves",city:"Atlanta",losses:0},{id:"mia",name:"Marlins",city:"Miami",losses:0},{id:"nym",name:"Mets",city:"New York",losses:0},{id:"phi",name:"Phillies",city:"Philadelphia",losses:0},{id:"wsh",name:"Nationals",city:"Washington",losses:0},{id:"chc",name:"Cubs",city:"Chicago",losses:0},{id:"cin",name:"Reds",city:"Cincinnati",losses:0},{id:"mil",name:"Brewers",city:"Milwaukee",losses:0},{id:"pit",name:"Pirates",city:"Pittsburgh",losses:0},{id:"stl",name:"Cardinals",city:"St. Louis",losses:0},{id:"ari",name:"Diamondbacks",city:"Arizona",losses:0},{id:"col",name:"Rockies",city:"Colorado",losses:0},{id:"lad",name:"Dodgers",city:"Los Angeles",losses:0},{id:"sd",name:"Padres",city:"San Diego",losses:0},{id:"sf",name:"Giants",city:"San Francisco",losses:0},{id:"dom",name:"Dominican",city:"RD",losses:0},{id:"pr",name:"Boricua",city:"Puerto Rico",losses:0}],f=[{id:"ne",name:"Patriots",city:"New England",losses:0},{id:"kc",name:"Chiefs",city:"Kansas City",losses:0},{id:"dal",name:"Cowboys",city:"Dallas",losses:0},{id:"sf",name:"49ers",city:"San Francisco",losses:0},{id:"gb",name:"Packers",city:"Green Bay",losses:0},{id:"buf",name:"Bills",city:"Buffalo",losses:0},{id:"pit",name:"Steelers",city:"Pittsburgh",losses:0},{id:"bal",name:"Ravens",city:"Baltimore",losses:0},{id:"cin",name:"Bengals",city:"Cincinnati",losses:0},{id:"cle",name:"Browns",city:"Cleveland",losses:0},{id:"ten",name:"Titans",city:"Tennessee",losses:0},{id:"ind",name:"Colts",city:"Indianapolis",losses:0},{id:"hou",name:"Texans",city:"Houston",losses:0},{id:"jax",name:"Jaguars",city:"Jacksonville",losses:0},{id:"lv",name:"Raiders",city:"Las Vegas",losses:0},{id:"lac",name:"Chargers",city:"Los Angeles",losses:0},{id:"den",name:"Broncos",city:"Denver",losses:0},{id:"nyj",name:"Jets",city:"New York",losses:0},{id:"mia",name:"Dolphins",city:"Miami",losses:0},{id:"phi",name:"Eagles",city:"Philadelphia",losses:0},{id:"nyg",name:"Giants",city:"New York",losses:0},{id:"wsh",name:"Commanders",city:"Washington",losses:0},{id:"det",name:"Lions",city:"Detroit",losses:0},{id:"chi",name:"Bears",city:"Chicago",losses:0},{id:"min",name:"Vikings",city:"Minnesota",losses:0},{id:"no",name:"Saints",city:"New Orleans",losses:0},{id:"tb",name:"Buccaneers",city:"Tampa Bay",losses:0},{id:"car",name:"Panthers",city:"Carolina",losses:0},{id:"atl",name:"Falcons",city:"Atlanta",losses:0},{id:"ari",name:"Cardinals",city:"Arizona",losses:0},{id:"lar",name:"Rams",city:"Los Angeles",losses:0},{id:"sea",name:"Seahawks",city:"Seattle",losses:0}],y=[{id:"bos",name:"Celtics",city:"Boston",losses:0},{id:"bkn",name:"Nets",city:"Brooklyn",losses:0},{id:"ny",name:"Knicks",city:"New York",losses:0},{id:"phi",name:"76ers",city:"Philadelphia",losses:0},{id:"tor",name:"Raptors",city:"Toronto",losses:0},{id:"chi",name:"Bulls",city:"Chicago",losses:0},{id:"cle",name:"Cavaliers",city:"Cleveland",losses:0},{id:"det",name:"Pistons",city:"Detroit",losses:0},{id:"ind",name:"Pacers",city:"Indiana",losses:0},{id:"mil",name:"Bucks",city:"Milwaukee",losses:0},{id:"atl",name:"Hawks",city:"Atlanta",losses:0},{id:"cha",name:"Hornets",city:"Charlotte",losses:0},{id:"mia",name:"Heat",city:"Miami",losses:0},{id:"orl",name:"Magic",city:"Orlando",losses:0},{id:"wsh",name:"Wizards",city:"Washington",losses:0},{id:"den",name:"Nuggets",city:"Denver",losses:0},{id:"min",name:"Timberwolves",city:"Minnesota",losses:0},{id:"okc",name:"Thunder",city:"Oklahoma City",losses:0},{id:"por",name:"Trail Blazers",city:"Portland",losses:0},{id:"utah",name:"Jazz",city:"Utah",losses:0},{id:"gs",name:"Warriors",city:"Golden State",losses:0},{id:"lac",name:"Clippers",city:"Los Angeles",losses:0},{id:"lal",name:"Lakers",city:"Los Angeles",losses:0},{id:"phx",name:"Suns",city:"Phoenix",losses:0},{id:"sac",name:"Kings",city:"Sacramento",losses:0},{id:"dal",name:"Mavericks",city:"Dallas",losses:0},{id:"hou",name:"Rockets",city:"Houston",losses:0},{id:"mem",name:"Grizzlies",city:"Memphis",losses:0},{id:"no",name:"Pelicans",city:"New Orleans",losses:0},{id:"sa",name:"Spurs",city:"San Antonio",losses:0},{id:"vb",name:"Bears",city:"Vancouver",losses:0},{id:"sea",name:"SuperSonics",city:"Seattle",losses:0}];(a=i||(i={})).MLB="MLB",a.NFL="NFL",a.NBA="NBA",(n=l||(l={})).NOT_STARTED="NOT_STARTED",n.IN_PROGRESS="IN_PROGRESS",n.COMPLETED="COMPLETED";let v={MLB:{bg:"bg-[#092668]",border:"border-[#092668]",tableLabel:"bg-white border-[#092668] text-[#092668]",winner:"bg-blue-50 text-[#092668]",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-[#f0f0f0] text-black",buttonHover:"hover:bg-[#9e9e9e]",input:"border-[#092668] focus:ring-[#092668]"},NFL:{bg:"bg-[#ffffff]",border:"border-[#E0E0E0]",tableLabel:"bg-[#092668] border-[#E0E0E0] text-white",winner:"bg-[#E0E0E0] text-[#092668] font-size-2xl  font-bold",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-[#092668] text-white",buttonHover:"hover:bg-[#020105] text-white",input:"border-[#092668] focus:ring-[#092668]"},NBA:{bg:"bg-[#1d428a]",border:"border-[#c8102e]",tableLabel:"bg-[#c8102e] border-[#c8102e] text-white",winner:"bg-[#ffffff] text-[#1d428a] font-size-2xl  font-bold",loser:"bg-red-50 text-red-700",championship:"bg-purple-50 text-purple-700",button:"bg-white text-[#1d428a]",buttonHover:"hover:bg-[#c8102e]",input:"border-[#092668] focus:ring-[#092668]"},default:{bg:"bg-gray-400",border:"border-gray-500",tableLabel:"bg-gray-400 border-gray-500 text-white",winner:"bg-gray-50 text-gray-700",loser:"bg-gray-100 text-gray-500",championship:"bg-gray-200 text-gray-800",button:"bg-[#092668] text-white",buttonHover:"hover:bg-[#020105]",input:"border-[#092668] focus:ring-[#092668]"}},w=e=>{var s,t,a,n,l,r,c,m,u,h;let{match:x,tournament:g,tableNumber:f,onScoreUpdate:y,isEditable:w=!0,selectedLeague:N}=e,j=e=>{let s=e.replace(/ /g,"-").toLowerCase()+".png",t="/mlb-teams/";return(N===i.NFL?t="/nfl-teams/":N===i.NBA&&(t="/nba-teams/"),N===i.NBA&&"nba"===e.toLowerCase())?"/nba_logo.png":"".concat(t).concat(s)},k=x.team1?j(x.team1.name):"",C=x.team2?j(x.team2.name):"";x.team1&&x.team1.name,x.team2&&x.team2.name;let L=x.team1&&g.eliminatedTeams.includes(x.team1),S=x.team2&&g.eliminatedTeams.includes(x.team2),[B,T]=(0,p.useState)({team1Score:x.score.team1Score,team2Score:x.score.team2Score});(0,p.useEffect)(()=>{T(x.score)},[x.score]);let R=(e,s)=>{let t=Math.max(0,Math.min(200,parseInt(s)||0));T(1===e?{team1Score:t,team2Score:B.team2Score}:{team1Score:B.team1Score,team2Score:t})},E=!x.isCompleted&&w,M=v[N]||v.default;return(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:E?1.02:1},className:"w-full max-w-full rounded-2xl shadow-xl border-2 px-3 py-4 sm:px-6 sm:py-5 mb-4 font-poppins bg-gradient-to-br ".concat(M.bg," ").concat(M.border),children:[(0,o.jsx)("div",{className:"mb-2 flex justify-between items-center",children:"number"==typeof f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full text-lg font-bold shadow-md border-2 mr-2 ".concat(M.tableLabel),title:"Table ".concat(f),children:f}),(0,o.jsxs)("span",{className:"text-xs font-bold tracking-wide uppercase px-2 py-1 rounded ".concat(M.tableLabel),children:["Table ",f]})]})}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(b,{team:null!==(l=x.team1)&&void 0!==l?l:{id:"tbd1",name:"TBD",city:"",losses:0},score:B.team1Score,wins:null!==(r=null===(s=x.team1)||void 0===s?void 0:s.wins)&&void 0!==r?r:0,losses:null!==(c=null===(t=x.team1)||void 0===t?void 0:t.losses)&&void 0!==c?c:0,isWinner:x.winner===x.team1,isEliminated:!!L,bracket:x.bracket,logo:k,selectedLeague:N}),E&&(0,o.jsx)("input",{type:"number",min:"0",max:200,value:B.team1Score,onChange:e=>R(1,e.target.value),className:"absolute right-2 top-2 w-16 text-right border-2 border-[#a259f7] bg-black/10 text-black font-bold rounded-lg px-2 py-1 focus:ring-2 focus:ring-[#a259f7]",placeholder:"0"})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(b,{team:null!==(m=x.team2)&&void 0!==m?m:{id:"tbd2",name:"TBD",city:"",losses:0},score:B.team2Score,wins:null!==(u=null===(a=x.team2)||void 0===a?void 0:a.wins)&&void 0!==u?u:0,losses:null!==(h=null===(n=x.team2)||void 0===n?void 0:n.losses)&&void 0!==h?h:0,isWinner:x.winner===x.team2,isEliminated:!!S,bracket:x.bracket,logo:C,selectedLeague:N}),E&&(0,o.jsx)("input",{type:"number",min:"0",max:200,value:B.team2Score,onChange:e=>R(2,e.target.value),className:"absolute right-2 top-2 w-16 text-right border-2 border-[#a259f7] bg-black/10 text-black font-bold rounded-lg px-2 py-1 focus:ring-2 focus:ring-[#a259f7]",placeholder:"0"})]}),E&&(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 w-full",children:[(0,o.jsx)("button",{onClick:()=>{null==y||y(x.id,B.team1Score,B.team2Score)},className:"w-full sm:w-1/2 py-2 rounded-lg shadow transition ".concat(v[N].button," ").concat(v[N].buttonHover),children:"Submit"}),(0,o.jsx)("button",{onClick:()=>{null==y||y(x.id,0,0)},className:"w-full sm:w-1/2 py-2 rounded-lg shadow transition ".concat(v[N].button," ").concat(v[N].buttonHover),children:"Reset"})]}),x.isCompleted&&x.winner&&(0,o.jsx)(o.Fragment,{children:"championship"===x.bracket?x.requiresRematch?(0,o.jsx)("div",{className:"font-bold text-lg text-white mt-3 text-center py-2 rounded-lg bg-yellow-100 text-yellow-800 font-semibold text-sm",children:"Championship rematch required!"}):(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring",stiffness:100},className:"relative mt-6 text-center py-6 rounded-xl overflow-hidden font-semibold",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 opacity-90"}),(0,o.jsx)("div",{className:"absolute inset-0 bg-[url('/trophy-pattern.png')] opacity-10 bg-repeat"}),(0,o.jsx)("div",{className:"absolute top-2 left-4 text-3xl animate-bounce-slow delay-100",children:"\uD83C\uDF89"}),(0,o.jsx)("div",{className:"absolute top-2 right-4 text-3xl animate-bounce-slow delay-300",children:"\uD83C\uDF8A"}),(0,o.jsx)("div",{className:"absolute bottom-2 left-10 text-2xl animate-bounce delay-200",children:"\uD83C\uDF89"}),(0,o.jsx)("div",{className:"absolute bottom-2 right-10 text-2xl animate-bounce delay-400",children:"\uD83C\uDF8A"}),(0,o.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center space-y-3",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute inset-0 rounded-full bg-yellow-400 blur-md transform scale-110 opacity-70"}),(0,o.jsx)("span",{className:"relative text-6xl drop-shadow-lg animate-pulse-slow",children:"\uD83C\uDFC6"})]}),(0,o.jsxs)("div",{className:"relative mt-2 mb-1",children:[(0,o.jsx)("h2",{className:"text-white text-2xl font-bold tracking-wide",children:x.winner.name}),(0,o.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3/4 h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent"})]}),(0,o.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-6 py-1.5 rounded-full font-bold tracking-wider uppercase text-sm shadow-lg",children:"Tournament Champion"}),(0,o.jsxs)("div",{className:"mt-2 text-white text-sm",children:["Final Score: ",x.score.team1Score," -"," ",x.score.team2Score]}),x.loser&&(0,o.jsxs)("div",{className:"text-gray-200 text-sm mt-1",children:["Runner-up: ",x.loser.name]})]})]}):(0,o.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1},className:"font-bold text-lg mt-3 text-center py-2 rounded-lg text-sm font-medium ".concat("winners"===x.bracket?M.winner:"losers"===x.bracket?M.loser:M.championship),children:[x.winner.name," Wins!",x.loser&&g.eliminatedTeams.includes(x.loser)&&(0,o.jsxs)("div",{className:"font-bold text-lg text-red-600 mt-1 font-semibold",children:[x.loser.name," Eliminated"]})]})})]})]})},N=e=>{let{tournament:s,onMatchUpdate:t,selectedLeague:a,onResetCurrentRound:n}=e,[i,l]=(0,p.useState)(s.currentRound),[c,u]=(0,p.useState)(!0);(0,p.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),(0,p.useEffect)(()=>{if(!c)return;let e=s.rounds.find(e=>e.roundNumber===i);if(e&&e.matches.every(e=>e.isCompleted)){let e=i+1;s.rounds.some(s=>s.roundNumber===e)&&l(e)}},[i,s.rounds,c]);let h=(0,p.useCallback)((e,a,n)=>{let i=s.rounds.find(s=>s.matches.some(s=>s.id===e));if(!i)return;let l=i.matches.find(s=>s.id===e);l&&(null==t||t({...l,score:{team1Score:a,team2Score:n}}))},[s,t]),b=(0,p.useMemo)(()=>s.rounds.map(e=>{let s=e.matches.filter(e=>"winners"===e.bracket).sort((e,s)=>null===e.team2&&null!==s.team2?-1:null!==e.team2&&null===s.team2?1:0),t=e.matches.filter(e=>"losers"===e.bracket).sort((e,s)=>null===e.team2&&null!==s.team2?-1:null!==e.team2&&null===s.team2?1:0),a=e.matches.filter(e=>"championship"===e.bracket);return{roundNumber:e.roundNumber,winners:s,losers:t,championship:a,isDoubleElimination:e.isDoubleElimination,isChampionshipRound:e.isChampionshipRound}}),[s.rounds]),g=e=>{l(e),u(e===s.currentRound)},f=(e,s,t)=>{let a={},n=1,i=e=>e.team1&&e.team2&&"TBD"!==e.team1.name&&"TBD"!==e.team2.name;return e.forEach(e=>{i(e)&&n<=16?a[e.id]=n++:a[e.id]=null}),s.forEach(e=>{i(e)&&n<=16?a[e.id]=n++:a[e.id]=null}),t.forEach(e=>{i(e)&&n<=16?a[e.id]=n++:a[e.id]=null}),a};return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex justify-end mb-4 gap-2",children:[(0,o.jsx)("button",{className:"px-4 py-2 border border-red-500 text-red-500 rounded hover:bg-red-50 transition-colors font-semibold",onClick:()=>{"function"==typeof window.onResetRound?window.onResetRound():window.location.reload()},children:"Reset Tournament"}),(0,o.jsx)("button",{className:"px-4 py-2 border border-blue-500 text-blue-500 rounded hover:bg-blue-50 transition-colors font-semibold",onClick:()=>{n&&n()},children:"Reset Current Round"})]}),(0,o.jsx)("div",{className:"mb-8 border-b",children:(0,o.jsx)("div",{className:"flex overflow-x-auto",children:b.map(e=>(0,o.jsx)("button",{onClick:()=>g(e.roundNumber),className:x("px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",i===e.roundNumber?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.isChampionshipRound?"Championship":"Round ".concat(e.roundNumber)},e.roundNumber))})}),(0,o.jsx)(r.M,{mode:"wait",children:b.map(e=>e.roundNumber===i&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[e.championship.length>0&&(0,o.jsxs)("div",{className:"mb-12",children:[(0,o.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:["Championship Match",e.championship[0].requiresRematch&&(0,o.jsx)("span",{className:"ml-3 text-sm bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full",children:"Rematch Required"})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("div",{className:"w-[400px]",children:(()=>{let t=f(e.winners,e.losers,e.championship);return e.championship.map(e=>(0,o.jsx)(w,{match:e,tournament:s,tableNumber:t[e.id],onScoreUpdate:h,isEditable:!e.isCompleted,selectedLeague:a},e.id))})()})})]}),e.winners.length>0&&(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-blue-700 mb-4 flex items-center",children:["Winners Bracket",(0,o.jsxs)("span",{className:"ml-3 text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[e.winners.length," Matches"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(()=>{let t=f(e.winners,e.losers,e.championship);return e.winners.map(e=>(0,o.jsx)(w,{match:e,tournament:s,tableNumber:t[e.id],onScoreUpdate:h,isEditable:!e.isCompleted,selectedLeague:a},e.id))})()})]}),e.losers.length>0&&(0,o.jsxs)("div",{className:"pt-8 border-t",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-red-700 mb-4 flex items-center",children:["Losers Bracket",(0,o.jsxs)("span",{className:"ml-3 text-sm bg-red-100 text-red-700 px-3 py-1 rounded-full",children:[e.losers.length," Matches"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(()=>{let t=f(e.winners,e.losers,e.championship);return e.losers.map(e=>(0,o.jsx)(w,{match:e,tournament:s,tableNumber:t[e.id],onScoreUpdate:h,isEditable:!e.isCompleted,selectedLeague:a},e.id))})()})]}),s.eliminatedTeams.length>0&&(0,o.jsxs)("div",{className:"mt-8 pt-8 border-t",children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-red-700 mb-4 flex items-center",children:[(0,o.jsx)("span",{children:"Eliminated Teams"}),(0,o.jsxs)("span",{className:"ml-3 text-sm bg-red-100 text-red-700 px-3 py-1 rounded-full",children:[s.eliminatedTeams.length," Teams"]})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.eliminatedTeams.map(e=>(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[e.logo&&(0,o.jsx)("div",{className:"w-8 h-8 relative",children:(0,o.jsx)(m(),{src:e.logo,alt:e.name,fill:!0,className:"object-contain"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-red-700",children:e.name}),(0,o.jsxs)("div",{className:"text-xs text-red-600",children:[e.losses," Losses"]})]})]})},e.id))})]}),(0,o.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:[e.isChampionshipRound?"Championship":"Round ".concat(e.roundNumber)," ","Summary"]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Winners Bracket:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.winners.length," matches"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Losers Bracket:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.losers.length," matches"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-600",children:"Championship:"}),(0,o.jsxs)("p",{className:"font-medium",children:[e.championship.length," matches"]})]})]})]})]},e.roundNumber))}),s.winner&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-8 p-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl text-center text-white",children:[(0,o.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Tournament Champion"}),(0,o.jsxs)("p",{className:"text-xl",children:[s.winner.city," ",s.winner.name]})]})]})},j=function(e,s,t,a){var n;let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"winners",o=arguments.length>6?arguments[6]:void 0,r=arguments.length>7?arguments[7]:void 0;return{id:e,roundNumber:s,team1:t,team2:a,isCompleted:i,isBye:i,bracket:l,winner:i&&null!==(n=null!=t?t:a)&&void 0!==n?n:void 0,loser:void 0,score:{team1Score:0,team2Score:0},nextMatchId:o,nextLoserMatchId:r,eliminatedLabel:void 0}},k=e=>{let s=e.length,t=[],a=Math.pow(2,Math.ceil(Math.log2(s))-1),n=1;for(let s=0;s<a;s++){let a=e[2*s]||null,i=e[2*s+1]||null,l=!a||!i,o="W1-".concat(n),r="W2-".concat(Math.ceil(n/2)),d="L1-".concat(Math.ceil(n/2));t.push(j(o,1,a,i,l,"winners",r,d)),n++}return{rounds:[{roundNumber:1,matches:t,isDoubleElimination:!0,isChampionshipRound:!1}],currentRound:1,eliminatedTeams:[],championshipMatchesPlayed:0}},C=(e,s)=>{let t,a;let n=s.team1Score!==s.team2Score;if(n){var i,l,o,r,d,c,m,u;s.team1Score>s.team2Score?(t=e.team1?{...e.team1,wins:(null!==(i=e.team1.wins)&&void 0!==i?i:0)+1,losses:null!==(l=e.team1.losses)&&void 0!==l?l:0}:void 0,a=e.team2?{...e.team2,wins:null!==(o=e.team2.wins)&&void 0!==o?o:0,losses:(null!==(r=e.team2.losses)&&void 0!==r?r:0)+1}:void 0):(t=e.team2?{...e.team2,wins:(null!==(d=e.team2.wins)&&void 0!==d?d:0)+1,losses:null!==(c=e.team2.losses)&&void 0!==c?c:0}:void 0,a=e.team1?{...e.team1,wins:null!==(m=e.team1.wins)&&void 0!==m?m:0,losses:(null!==(u=e.team1.losses)&&void 0!==u?u:0)+1}:void 0)}return{...e,score:s,isCompleted:n,winner:t,loser:a}},L=e=>{let s=e.rounds[e.rounds.length-1],t=e.currentRound+1,a={},n={};e.rounds.forEach(e=>{e.matches.forEach(e=>{e.isCompleted&&e.loser&&(a[e.loser.id]=(a[e.loser.id]||0)+1),e.isCompleted&&e.winner&&(n[e.winner.id]=(n[e.winner.id]||0)+1)})});let i=[],l=new Set;for(let s of e.rounds)for(let e of s.matches)e.team1&&!l.has(e.team1.id)&&(i.push({...e.team1,wins:n[e.team1.id]||0,losses:a[e.team1.id]||0}),l.add(e.team1.id)),e.team2&&!l.has(e.team2.id)&&(i.push({...e.team2,wins:n[e.team2.id]||0,losses:a[e.team2.id]||0}),l.add(e.team2.id));let o=[];for(let s of i)(a[s.id]||0)>=2&&!e.eliminatedTeams.some(e=>e.id===s.id)&&o.push(s);let r=i.filter(s=>0===(a[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)).map(e=>({...e,losses:a[e.id]||0,wins:n[e.id]||0})),d=i.filter(s=>1===(a[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)).map(e=>({...e,losses:a[e.id]||0,wins:n[e.id]||0})),c=!1,m=[],u=[],h=!1,x=!1,b=e.rounds.filter(e=>e.isChampionshipRound).flatMap(e=>e.matches).filter(e=>"championship"===e.bracket);if(b.length>=1&&b[b.length-1].isCompleted){var p;let s=b[b.length-1],a=s.team1,n=s.team2;(null===(p=s.winner)||void 0===p?void 0:p.id)===(null==n?void 0:n.id)&&1===e.championshipMatchesPlayed?(c=!0,m.push(j("C".concat(t,"-1"),t,a,n,!1,"championship")),h||(u.push(j("W".concat(t,"-1"),t,a,null,!0,"winners")),h=!0)):c=!0}else if(1===r.length&&1===d.length&&s.matches.some(e=>("losers"===e.bracket||e.id.includes("LosersLast"))&&e.isCompleted&&e.winner&&d.some(s=>s.id===e.winner.id)))c=!0,m.push(j("C".concat(t,"-1"),t,r[0],d[0],!1,"championship")),h||(u.push(j("W".concat(t,"-1"),t,r[0],null,!0,"winners")),h=!0);else if(1===r.length&&d.length>=1&&e.winnersBracketFinalLoser){let a=s.matches.filter(e=>"losers"===e.bracket&&e.isCompleted&&e.winner).map(e=>e.winner).find(e=>d.some(s=>s.id===e.id));a&&a.id!==e.winnersBracketFinalLoser.id?(u.push(j("LosersLast-".concat(t),t,e.winnersBracketFinalLoser,a,!1,"losers")),x=!0,h||(u.push(j("W".concat(t,"-1"),t,r[0],null,!0,"winners")),h=!0)):(g(),1===r.length&&e.winnersBracketFinalLoser&&(h||(u.push(j("W".concat(t,"-1"),t,r[0],null,!0,"winners")),h=!0),x||(u.push(j("LWB".concat(t,"-1"),t,e.winnersBracketFinalLoser,null,!0,"losers")),x=!0)))}else 2===r.length&&d.length>=1?(u.push(j("W".concat(t,"-1"),t,r[0],r[1],!1,"winners")),h=!0,f()):g();function g(){let e=1;for(let a=0;a<r.length;a+=2){var s;let n=r[a],i=null!==(s=r[a+1])&&void 0!==s?s:null,l=!i;u.push(j("W".concat(t,"-").concat(e),t,n,i,l,"winners")),h=!0,e++}f()}function f(){let n=i.filter(s=>1===(a[s.id]||0)&&!e.eliminatedTeams.some(e=>e.id===s.id)&&!o.some(e=>e.id===s.id)&&!(e.winnersBracketFinalLoser&&e.winnersBracketFinalLoser.id===s.id)),l=s.matches.filter(e=>"winners"===e.bracket&&e.loser&&e.isCompleted).map(e=>e.loser).filter(e=>n.some(s=>s.id===e.id));if(s.matches.some(e=>"winners"===e.bracket&&1===r.length&&e.loser&&e.isCompleted)){let a=s.matches.filter(e=>"winners"===e.bracket&&e.isCompleted&&e.loser).map(e=>e.loser).pop();a&&(e.winnersBracketFinalLoser=a,7!==t||x||(u.push(j("LWB".concat(t,"-1"),t,a,null,!0,"losers")),x=!0))}let d=n.filter(e=>!l.some(s=>s.id===e.id)),c=[...l,...d];if(c.length>0){var m,h;if(c.length%2==1){let e=null;if(l.length>0){e=l[l.length-1];let s=c.findIndex(s=>s.id===e.id);-1!==s&&c.splice(s,1)}else e=c.shift();u.push(j("L".concat(t,"-1"),t,e,null,!0,"losers"));for(let e=0;e<c.length;e+=2){let s=c[e],a=null!==(m=c[e+1])&&void 0!==m?m:null;u.push(j("L".concat(t,"-").concat(Math.floor(e/2)+2),t,s,a,!a,"losers"))}}else for(let e=0;e<c.length;e+=2){let s=c[e],a=null!==(h=c[e+1])&&void 0!==h?h:null;u.push(j("L".concat(t,"-").concat(Math.floor(e/2)+1),t,s,a,!a,"losers"))}}7===t&&e.winnersBracketFinalLoser&&!x&&(u.push(j("LWB".concat(t,"-1"),t,e.winnersBracketFinalLoser,null,!0,"losers")),x=!0)}let y=e.winner;if(c){let s=m[0]||b[b.length-1];if(s&&s.isCompleted&&s.winner&&s.loser){s.team1;let t=s.team2;y=t&&s.winner.id===t.id&&1===e.championshipMatchesPlayed?void 0:s.winner}}return c&&0===m.length||!c&&0===u.length?{...e,winner:y,currentRound:e.currentRound}:(7===t&&e.winnersBracketFinalLoser&&!x&&u.push(j("LWB".concat(t,"-1"),t,e.winnersBracketFinalLoser,null,!0,"losers")),{...e,rounds:[...e.rounds,{roundNumber:t,matches:c?m:u,isDoubleElimination:!0,isChampionshipRound:c}],currentRound:t,eliminatedTeams:[...e.eliminatedTeams,...o.filter(s=>!e.eliminatedTeams.some(e=>e.id===s.id))],championshipMatchesPlayed:c?e.championshipMatchesPlayed+1:e.championshipMatchesPlayed,winnersBracketFinalLoser:e.winnersBracketFinalLoser,winner:y})};var S=t(5461);function B(){var e,s,t,a,n;let[l,r]=(0,p.useState)(i.MLB),[d,c]=(0,p.useState)(()=>(localStorage.removeItem("tournamentState"),k(g)));if(!d)return(0,o.jsx)("div",{className:"p-8 text-red-600",children:"Tournament data is unavailable. Please refresh or reset the tournament."});let m=(0,p.useCallback)(e=>{c(s=>{let t=C(e,e.score),a={...s,rounds:s.rounds.map(e=>({...e,matches:e.matches.map(e=>e.id===t.id?t:e)}))};return a.rounds[a.currentRound-1].matches.every(e=>e.isCompleted)?L(a):a})},[]),u=(0,p.useCallback)(()=>{let e;(e=l===i.MLB?g:l===i.NFL?f:y).forEach(e=>e.losses=0),c(k(e))},[l]),h=(0,p.useCallback)(()=>{c(e=>{let s=e.currentRound-1;if(s<0||s>=e.rounds.length)return e;let t=e.rounds.map((e,t)=>t!==s?e:{...e,matches:e.matches.map(e=>({...e,score:{team1Score:0,team2Score:0},isCompleted:!1,winner:void 0,loser:void 0}))});return{...e,rounds:t}})},[]);return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,o.jsxs)("div",{className:"container mx-auto px-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tournament Bracket"}),(0,o.jsx)("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reset Tournament"})]}),(0,o.jsxs)("div",{className:"flex justify-center mb-6 gap-4",children:[(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(l===i.MLB?"bg-[#092668] border-[#092668] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{r(i.MLB),c(k(g))},"aria-label":"Select MLB",type:"button",children:[(0,o.jsx)("div",{className:"w-10 h-10 mb-1 flex items-center justify-center bg-transparent rounded",children:(0,o.jsx)("img",{src:"/mlb-teams/mlb_logo.png",alt:"MLB Logo",className:"w-full h-full object-contain"})}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"MLB"})]}),(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(l===i.NFL?"bg-[#002244] border-[#002244] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{r(i.NFL),c(k(f))},"aria-label":"Select NFL",type:"button",children:[(0,o.jsx)("img",{src:"/nfl-teams/nfl_logo.png",alt:"NFL Logo",className:"w-10 h-10 mb-1"}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"NFL"})]}),(0,o.jsxs)("button",{className:"flex flex-col items-center px-6 py-3 rounded-xl border-2 shadow-md transition-all duration-200\n      ".concat(l===i.NBA?"bg-[#1D428A] border-[#1D428A] text-white scale-105":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-blue-50","\n    "),onClick:()=>{r(i.NBA),c(k(y))},"aria-label":"Select NBA",type:"button",children:[(0,o.jsx)("div",{className:"w-10 h-10 mb-1 flex items-center justify-center bg-white rounded",children:(0,o.jsx)("img",{src:"/nba-teams/nba_logo.png",alt:"NBA Logo",className:"w-full h-full object-contain"})}),(0,o.jsx)("span",{className:"font-bold text-lg tracking-wide",children:"NBA"})]})]}),(0,o.jsx)(N,{tournament:d,onMatchUpdate:m,selectedLeague:l,onResetCurrentRound:h}),(0,o.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-blue-900",children:"Active Teams"}),(0,o.jsx)("p",{className:"text-2xl text-blue-600",children:(l===i.MLB?g.length:l===i.NFL?f.length:y.length)-(null!==(a=null==d?void 0:null===(e=d.eliminatedTeams)||void 0===e?void 0:e.length)&&void 0!==a?a:0)})]}),(0,o.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg overflow-auto max-h-40",children:[(0,o.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"Eliminated Teams"}),(null!==(n=null==d?void 0:null===(s=d.eliminatedTeams)||void 0===s?void 0:s.length)&&void 0!==n?n:0)===0?(0,o.jsx)("p",{className:"text-red-600",children:"No teams eliminated yet."}):(0,o.jsx)("ul",{className:"list-disc list-inside text-red-600",children:null==d?void 0:null===(t=d.eliminatedTeams)||void 0===t?void 0:t.map(e=>(0,o.jsx)("li",{children:e.name},e.id))})]}),(0,o.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold text-green-900",children:"Current Round"}),(0,o.jsx)("p",{className:"text-2xl text-green-600",children:d.currentRound})]})]})]})})}function T(){return(0,o.jsx)(S.Z,{children:(0,o.jsx)(B,{})})}},5461:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(7437),n=t(2265),i=t(6691),l=t.n(i);function o(e){let{onAuthSuccess:s}=e,[t,i]=(0,n.useState)(""),[o,r]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1);return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-[#a259f7] via-black to-[#a259f7] animate-fade-in",children:(0,a.jsxs)("div",{className:"bg-white bg-opacity-90 rounded-3xl shadow-2xl p-10 flex flex-col items-center gap-6 min-w-[320px] max-w-xs",children:[(0,a.jsx)(l(),{src:"/BDC_logo.svg",alt:"App Logo",width:120,height:120,className:"rounded-2xl animate-bounce bg-transparent"}),(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-purple-800 tracking-tight drop-shadow mb-2 text-center",children:"Welcome to BDC-Tourney"}),(0,a.jsxs)("form",{className:"w-full flex flex-col gap-4",onSubmit:e=>{e.preventDefault(),u(!0),setTimeout(()=>{"BDC"===t&&"Godfirst"===o?(localStorage.setItem("tourneyV5_auth","authenticated"),c(""),s()):c("Invalid username or password. Try again!"),u(!1)},800)},children:[(0,a.jsx)("input",{type:"text",placeholder:"Username",autoFocus:!0,className:"px-4 py-2 rounded-xl border-2 border-[#1d428a] focus:ring-2 focus:ring-[#c8102e] text-lg outline-none transition",value:t,onChange:e=>i(e.target.value),disabled:m}),(0,a.jsx)("input",{type:"password",placeholder:"Password",className:"px-4 py-2 rounded-xl border-2 border-[#1d428a] focus:ring-2 focus:ring-[#c8102e] text-lg outline-none transition",value:o,onChange:e=>r(e.target.value),disabled:m}),(0,a.jsx)("button",{type:"submit",className:"w-full py-2 rounded-xl font-bold text-lg bg-purple-800 text-white shadow hover:bg-[#c8102e] transition",disabled:m,children:m?"Checking...":"Enter Tournament"})]}),d&&(0,a.jsx)("div",{className:"text-red-600 font-semibold text-center animate-shake",children:d}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Private access only. Please contact the administrator if you need credentials."})]})})}function r(e){let{children:s}=e,[t,i]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i("authenticated"===localStorage.getItem("tourneyV5_auth")),r(!0)},[]),l)?t?(0,a.jsx)(a.Fragment,{children:s}):(0,a.jsx)(o,{onAuthSuccess:()=>i(!0)}):null}}},function(e){e.O(0,[986,945,971,938,744],function(){return e(e.s=7877)}),_N_E=e.O()}]);